<!DOCTYPE html>
<html>

<head>
  <title>frontend</title>
  <script>
    var solver = new Worker(location.origin + '/web-frontend/js/solver.js');

    solver.onmessage = function(msg) {
      let solutions = msg.data;
      let inner = document.createElement("div");
      solutions.forEach(s => {
        let d = document.createElement("div");
        d.textContent = s;
        inner.appendChild(d);
      });
      const results = document.getElementById("results");
      results.replaceChild(inner, results.children[0]);
    }

    window.onload = function() {
      document.getElementById("solve_button").onclick = function() {
        let scramble = document.getElementById("scramble").value;
        solver.postMessage(scramble);
      }
    }
  </script>
</head>

<body>
  <input type="text" size="100" id="scramble"></input>
  <input type="button" value="Solve" id="solve_button"></input>
  <div id="results">
    <div></div>
  </div>
</body>

</html>
